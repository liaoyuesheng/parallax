{"version":3,"file":"events.esm.js","sources":["../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/lodash-es/isElement.js","../src/observer/dep.ts","../src/observer/watcher.ts","../src/index.ts"],"sourcesContent":["/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import isObjectLike from './isObjectLike.js';\nimport isPlainObject from './isPlainObject.js';\n\n/**\n * Checks if `value` is likely a DOM element.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n * @example\n *\n * _.isElement(document.body);\n * // => true\n *\n * _.isElement('<body>');\n * // => false\n */\nfunction isElement(value) {\n  return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n}\n\nexport default isElement;\n","import Watcher from './watcher'\n\nclass Dep {\n  subs: Watcher[]\n  data: any;\n\n  constructor(initialData?: any) {\n    this.data = initialData\n  }\n  addSub(watcher: Watcher) {\n    this.subs.push(watcher)\n    watcher.update(this.data)\n  }\n\n  notify(data: any) {\n    this.subs.forEach((sub) => {\n      sub.update(data)\n    })\n  }\n}\n\nexport default Dep\n","interface WatcherOptions {\n  el: HTMLElement,\n  startProgress: number,\n  endProgress: number,\n  startStyle: string,\n  endStyle: string,\n}\n\nfunction getStyleNumbers(style: string): (string | number) [] {\n  return style\n    .split(/\\$?[^\\d.]+/g)\n    .filter(numStr => numStr)\n    .map((numStr) => {\n      return numStr[0] === '$' ? numStr : Number(numStr)\n    })\n}\n\nfunction getStyleRenderer(options: WatcherOptions) {\n  const {startProgress, endProgress, startStyle, endStyle,} = options\n  const startStyleNumbers = getStyleNumbers(startStyle)\n  const endStyleNumbers = getStyleNumbers(endStyle)\n\n  return function (progress: number) {\n    const resultStyleNumbers = startStyleNumbers\n      .map((startNumber, index) => {\n        let endNumber = endStyleNumbers[index]\n        let round = false\n\n        if (typeof startNumber === 'string') {\n          startNumber = Number(startNumber)\n          round = true\n        }\n\n        if (typeof endNumber === 'string') {\n          endNumber = Number(endNumber)\n          round = true\n        }\n\n        let resultNumber = (endNumber - startNumber) * ((progress - startProgress) / (endProgress - startProgress)) + startNumber\n\n        if (round) {\n          resultNumber = Math.round(resultNumber)\n\n          if (resultNumber < startNumber) {\n            resultNumber = Math.ceil(startNumber)\n          }\n\n          if (resultNumber > endNumber) {\n            resultNumber = Math.floor(startNumber)\n          }\n        }\n\n        return resultNumber\n      })\n\n    let replaceIndex = 0\n\n    return endStyle.replace(/\\$?[^\\d.]+/g, () => {\n      return String(resultStyleNumbers[replaceIndex++])\n    })\n  }\n}\n\nclass Watcher {\n  el: HTMLElement\n  options: WatcherOptions\n  styleRenderer: (progress: number) => string\n\n  constructor(options: WatcherOptions) {\n    this.options = options\n    this.el = this.options.el\n    this.styleRenderer = getStyleRenderer(options)\n  }\n\n  update(progress: number) {\n    this.el.setAttribute('style', this.styleRenderer(progress))\n  }\n}\n\nexport default Watcher\n","import {isElement} from 'lodash-es/lodash'\nimport Dep from './observer/dep'\nimport Watcher from './observer/watcher'\n\ntype ParallaxSelector = string | HTMLElement | Array<HTMLElement> | ArrayLike<HTMLElement>\n\ninterface ParallaxOptions {\n  container?: ParallaxSelector,\n  elements?: ParallaxSelector,\n  elementAttrPrefix?: string,\n  startTop?: number,\n  endTop?: number,\n  scrollElement?: ParallaxSelector,\n}\n\nfunction getElements(el: ParallaxSelector, container: HTMLElement | Document = document): Array<HTMLElement> {\n  if (isElement(el)) {\n    return [el as HTMLElement]\n  }\n\n  if (typeof el === 'string') {\n    const els = container.querySelectorAll<HTMLElement>(el)\n\n    if (!els) {\n      throw new TypeError(`[parallax warn]: Cannot find element ${el}`)\n    }\n\n    return Array.from(els)\n  }\n\n  return Array.from(el as Array<HTMLElement>).filter((currentEl) => {\n    return isElement(currentEl)\n  })\n}\n\nfunction getElementTop(element: HTMLElement) {\n  return element.getBoundingClientRect().top\n}\n\nfunction getProgress(value: number, startValue: number, endValue: number, minProgress?: number, maxProgress?: number) {\n  let progress = (value - startValue) / (endValue - startValue)\n\n  if (typeof minProgress === 'number') {\n    progress = Math.max(minProgress, progress)\n  }\n\n  if (typeof maxProgress === 'number') {\n    progress = Math.min(minProgress, progress)\n  }\n\n  return progress\n}\n\nconst defaults = {\n  container: '.parallax-container',\n  elementClass: '.parallax-element',\n  elementAttrPrefix: 'parallax',\n  startTop: 0,\n}\n\nclass Parallax {\n  container: HTMLElement\n  options: ParallaxOptions\n  progress: number\n  dispatcher: Dep\n\n  constructor(options?: ParallaxOptions) {\n    this.options = Object.assign({}, defaults, options)\n    this.container = getElements(this.options.container, document)[0] as HTMLElement\n\n    const elements = getElements(this.options.elements)\n    const startProgressAttrName = this.options.elementAttrPrefix + '-start-progress'\n    const endProgressAttrName = this.options.elementAttrPrefix + '-end-progress'\n    const startStyleAttrName = this.options.elementAttrPrefix + '-start-style'\n    const endStyleAttrName = this.options.elementAttrPrefix + '-end-style'\n\n    if (typeof this.options.endTop !== 'number') {\n      this.options.endTop = -this.container.offsetHeight\n    }\n\n    this._updateProgress()\n\n    this.dispatcher = new Dep(this.progress)\n\n    elements.forEach((el) => {\n      const startProgress = Number(el.getAttribute(startProgressAttrName) || 0)\n      const endProgress = Number(el.getAttribute(endProgressAttrName) || 0)\n      const startStyle = el.getAttribute(startStyleAttrName)\n      const endStyle = el.getAttribute(endStyleAttrName)\n\n      this.dispatcher.addSub(new Watcher({\n        el,\n        startProgress,\n        endProgress,\n        startStyle,\n        endStyle,\n      }))\n    })\n\n    this._initScroll()\n  }\n\n  _initScroll(scrollElement?: ParallaxSelector) {\n    const scrollEl = scrollElement ? getElements(scrollElement)[0] : document\n\n    scrollEl.addEventListener('scroll', () => {\n      this.update()\n    })\n  }\n\n  _updateProgress() {\n    const containerTop = getElementTop(this.container)\n\n    this.progress = getProgress(containerTop, this.options.startTop, this.options.endTop, 0, 1)\n  }\n\n  update(progress?: number) {\n    if(typeof progress === 'number') {\n      this.progress = progress\n    } else {\n      this._updateProgress()\n    }\n\n    this.dispatcher.notify(this.progress)\n  }\n}\n\nexport default Parallax\n"],"names":["freeGlobal","root","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","Symbol","getPrototype"],"mappings":"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"}