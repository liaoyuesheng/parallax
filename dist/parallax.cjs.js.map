{"version":3,"file":"parallax.cjs.js","sources":["../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/lodash-es/isElement.js","../node_modules/@liaoys/events/dist/events.esm.js","../src/observer/dep.ts","../src/observer/watcher.ts","../src/index.ts"],"sourcesContent":["/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import isObjectLike from './isObjectLike.js';\nimport isPlainObject from './isPlainObject.js';\n\n/**\n * Checks if `value` is likely a DOM element.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n * @example\n *\n * _.isElement(document.body);\n * // => true\n *\n * _.isElement('<body>');\n * // => false\n */\nfunction isElement(value) {\n  return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n}\n\nexport default isElement;\n","function checkListener(listener) {\r\n    const listenerType = typeof listener;\r\n    if (listenerType !== 'function') {\r\n        throw new TypeError(`The \"listener\" argument must be of type Function. Received type ${listenerType}`);\r\n    }\r\n}\r\nclass Events {\r\n    constructor() {\r\n        this._events = {};\r\n    }\r\n    on(eventName, listener, prepend = false) {\r\n        checkListener(listener);\r\n        if (!this._events[eventName]) {\r\n            this._events[eventName] = [];\r\n        }\r\n        const listeners = this._events[eventName];\r\n        if (prepend) {\r\n            listeners.unshift(listener);\r\n        }\r\n        else {\r\n            listeners.push(listener);\r\n        }\r\n        return this;\r\n    }\r\n    off(eventName, listener) {\r\n        const listeners = this._events[eventName];\r\n        if (!listeners)\r\n            return this;\r\n        if (listener) {\r\n            checkListener(listener);\r\n            this._events[eventName] = listeners.filter((currentListener) => {\r\n                return currentListener !== listener;\r\n            });\r\n        }\r\n        else {\r\n            this._events[eventName] = [];\r\n        }\r\n        return this;\r\n    }\r\n    once(eventName, listener, prepend = false) {\r\n        checkListener(listener);\r\n        const proxyListener = (...args) => {\r\n            this.off(eventName, proxyListener);\r\n            listener.apply(this, args);\r\n        };\r\n        return this.on(eventName, proxyListener, prepend);\r\n    }\r\n    emit(eventName, ...args) {\r\n        const listeners = this._events[eventName];\r\n        if (!listeners || !listeners.length) {\r\n            return false;\r\n        }\r\n        listeners.forEach((listener) => {\r\n            listener.apply(this, args);\r\n        });\r\n        return true;\r\n    }\r\n}\n\nexport { Events as default };\n//# sourceMappingURL=events.esm.js.map\n","import Watcher from './watcher'\n\nclass Dep {\n  subs: Watcher[] = []\n  data: any;\n\n  constructor(initialData?: any) {\n    this.data = initialData\n  }\n\n  addSub(watcher: Watcher) {\n    this.subs.push(watcher)\n    if(this.data !== undefined) {\n      watcher.update(this.data)\n    }\n  }\n\n  notify(data: any) {\n    this.subs.forEach((sub) => {\n      sub.update(data)\n    })\n  }\n}\n\nexport default Dep\n","interface WatcherOptions {\n  el: HTMLElement,\n  startProgress: number,\n  endProgress: number,\n  startStyle: string,\n  endStyle: string,\n}\n\nfunction getStyleNumbers(style: string): (string | number) [] {\n  return style\n    .match(/[$\\d.]+/g)\n    .filter(numStr => numStr)\n    .map((numStr) => {\n      return numStr[0] === '$' ? numStr.substring(1) : Number(numStr)\n    })\n}\n\nfunction getStyleRenderer(options: WatcherOptions) {\n  const {startProgress, endProgress, startStyle, endStyle,} = options\n  const startStyleNumbers = getStyleNumbers(startStyle)\n  const endStyleNumbers = getStyleNumbers(endStyle)\n\n  return function (progress: number) {\n    const resultStyleNumbers = startStyleNumbers\n      .map((startNumber, index) => {\n        let endNumber = endStyleNumbers[index]\n        let round = false\n        if (typeof startNumber === 'string') {\n          startNumber = Number(startNumber)\n          round = true\n        }\n        if (typeof endNumber === 'string') {\n          endNumber = Number(endNumber)\n          round = true\n        }\n        let resultNumber = (endNumber - startNumber) * ((progress - startProgress) / (endProgress - startProgress)) + startNumber\n        const min =  startNumber < endNumber ? startNumber : endNumber\n        const max = startNumber < endNumber ? endNumber : startNumber\n        resultNumber = Math.max(Math.min(resultNumber, max), min)\n        if (round) {\n          resultNumber = Math.round(resultNumber)\n          if (resultNumber < min) {\n            resultNumber = Math.ceil(min)\n          }\n          if (resultNumber > max) {\n            resultNumber = Math.floor(max)\n          }\n        }\n        return resultNumber\n      })\n    let replaceIndex = 0\n    return endStyle.replace(/[$\\d.]+/g, () => {\n      return String(resultStyleNumbers[replaceIndex++]).trim()\n    })\n  }\n}\n\nclass Watcher {\n  el: HTMLElement\n  options: WatcherOptions\n  styleRenderer: (progress: number) => string\n\n  constructor(options: WatcherOptions) {\n    this.options = options\n    this.el = this.options.el\n    this.styleRenderer = getStyleRenderer(options)\n  }\n\n  update(progress: number) {\n    const style = this.styleRenderer(progress)\n    style\n      .split(';')\n      .forEach((styleItem) => {\n        if (!styleItem) {\n          return\n        }\n        const cssKeyValue = styleItem\n          .split(':')\n          .map(s => s.trim())\n        this.el.style[cssKeyValue[0]] = cssKeyValue[1]\n      })\n  }\n}\n\nexport default Watcher\n","import {isElement} from 'lodash-es/lodash'\nimport Events from '@liaoys/events'\nimport Dep from './observer/dep'\nimport Watcher from './observer/watcher'\n\nexport type ParallaxSelector = string | HTMLElement | Array<HTMLElement> | ArrayLike<HTMLElement>\n\nexport interface ParallaxOptions {\n  container?: ParallaxSelector,\n  elements?: ParallaxSelector,\n  elementAttrPrefix?: string,\n  startTop?: number,\n  endTop?: number,\n  scrollElement?: ParallaxSelector,\n  customProgress?: boolean,\n  on: {\n    [eventName: string]: (...args: any[]) => void,\n  }\n}\n\nconst EVENT_NAMES = ['init', 'progress']\n\nfunction checkEventName(eventName) {\n  if (EVENT_NAMES.indexOf(eventName) === -1) {\n    console.warn(`[parallax warn]: eventName must one of members of Array ${EVENT_NAMES}. received ${eventName}.`)\n  }\n}\n\nfunction getElements(el: ParallaxSelector, container: HTMLElement | Document = document): Array<HTMLElement> {\n  if (isElement(el)) {\n    return [el as HTMLElement]\n  }\n  if (typeof el === 'string') {\n    const els = container.querySelectorAll<HTMLElement>(el)\n    return Array.from(els)\n  }\n  return Array.from(el as Array<HTMLElement>).filter((currentEl) => {\n    return isElement(currentEl)\n  })\n}\n\nfunction getElementTop(element: HTMLElement) {\n  return element.getBoundingClientRect().top\n}\n\nfunction getProgress(value: number, startValue: number, endValue: number, minProgress?: number, maxProgress?: number) {\n  let progress = (value - startValue) / (endValue - startValue)\n  if (typeof minProgress === 'number') {\n    progress = Math.max(minProgress, progress)\n  }\n  if (typeof maxProgress === 'number') {\n    progress = Math.min(maxProgress, progress)\n  }\n  return progress\n}\n\nconst defaults = {\n  elements: '.parallax-element',\n  elementAttrPrefix: 'parallax',\n  customProgress: false,\n  startTop: 0,\n  endTop: -500,\n  on: {},\n}\n\nclass Parallax {\n  container: HTMLElement\n  options: ParallaxOptions\n  progress: number\n  private _dispatcher: Dep\n  private _eventEmitter = new Events()\n\n  constructor(options?: ParallaxOptions) {\n    this.options = Object.assign({}, defaults, options)\n    if (!this.options.customProgress) {\n      const container = getElements(this.options.container, document)[0] as HTMLElement\n      if (!container) {\n        console.warn(`[parallax warn]: Cannot find element: \"${this.options.container}\". Check the option \"container\"`)\n        return this\n      }\n      this.container = container\n    }\n\n    this._initElements()\n    this._initEvents()\n\n    if (!this.options.customProgress) {\n      this._initScroll()\n      this.update(null, true)\n    }\n\n    this._eventEmitter.emit('init', this)\n  }\n\n  private _initElements() {\n    this._dispatcher = new Dep()\n    const elements = getElements(this.options.elements, this.container)\n    if (!elements.length) {\n      console.warn(`[parallax warn]: Cannot find element: \"${this.options.elements}\". Check the option \"elements\"`)\n      return this\n    }\n    const startProgressAttrName = this.options.elementAttrPrefix + '-start-progress'\n    const endProgressAttrName = this.options.elementAttrPrefix + '-end-progress'\n    const startStyleAttrName = this.options.elementAttrPrefix + '-start-style'\n    const endStyleAttrName = this.options.elementAttrPrefix + '-end-style'\n    elements.forEach((el) => {\n      const startProgress = Number(el.getAttribute(startProgressAttrName) || 0)\n      const endProgress = Number(el.getAttribute(endProgressAttrName) || 1)\n      const startStyle = el.getAttribute(startStyleAttrName)\n      const endStyle = el.getAttribute(endStyleAttrName)\n      if (!startStyle || !endStyle) {\n        return\n      }\n      this._dispatcher.addSub(new Watcher({\n        el,\n        startProgress,\n        endProgress,\n        startStyle,\n        endStyle,\n      }))\n    })\n  }\n\n  private _initScroll(scrollElement?: ParallaxSelector) {\n    const scrollEl = scrollElement ? getElements(scrollElement)[0] : document\n    scrollEl.addEventListener('scroll', () => {\n      this.update(null, true)\n    })\n  }\n\n  private _initEvents() {\n    EVENT_NAMES.forEach((eventName) => {\n      if (Object.prototype.hasOwnProperty.call(this.options.on, eventName)) {\n        this._eventEmitter.on(eventName, this.options.on[eventName])\n      }\n    })\n  }\n\n  private _updateProgress() {\n    const containerTop = getElementTop(this.container)\n    return this.progress = getProgress(containerTop, this.options.startTop, this.options.endTop, 0, 1)\n  }\n\n  update(progress?: number, triggerProgressEvent = false) {\n    const oldProgress = this.progress\n    if (typeof progress === 'number') {\n      progress = Math.max(Math.min(progress, 1), 0)\n      this.progress = progress\n    } else {\n      if (this.options.customProgress) {\n        console.warn('In customProgress mode, the \"progress\" argument is required and must be of type number')\n        return\n      }\n      this._updateProgress()\n    }\n    if (oldProgress === this.progress) {\n      return\n    }\n    this._dispatcher.notify(this.progress)\n    if (triggerProgressEvent) {\n      this._eventEmitter.emit('progress', this, this.progress)\n    }\n  }\n\n  on(eventName: string, listener: (parallax: Parallax, progress: number) => void) {\n    checkEventName(eventName)\n    this._eventEmitter.on(eventName, listener)\n    return this\n  }\n}\n\nexport default Parallax\n"],"names":["freeGlobal","root","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","Symbol","getPrototype"],"mappings":"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"}